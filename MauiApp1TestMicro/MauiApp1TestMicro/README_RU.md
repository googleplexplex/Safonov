# Приложение распознавания русской речи

.NET MAUI приложение для распознавания речи на русском языке с использованием Android SpeechRecognizer API.

## Настройка устройства для работы с русским языком

### Важно: Установка русского языка распознавания

Для корректной работы приложения необходимо установить пакет русского языка в системе Android:

#### Для Android 8.0+:
1. **Настройки** → **Язык и ввод** → **Распознавание речи** (или "Голосовой ввод Google")
2. Нажмите на значок настроек (шестерёнка)
3. Выберите **"Язык"** или **"Настройки голосового поиска"**
4. Убедитесь, что **"Русский"** установлен и отмечен галочкой
5. Если русский язык не установлен:
   - Нажмите **"Скачать офлайн-файлы"** или **"Установить языки"**
   - Найдите **"Russian"** или **"Русский"** в списке
   - Нажмите кнопку загрузки (значок скачивания)

#### Для старых версий Android:
1. **Настройки** → **Язык и ввод** → **Голосовой ввод** → **Настройки голосового поиска**
2. **Язык** → установите **"Русский (Россия)"**

#### Альтернативный способ через Google App:
1. Откройте приложение **Google**
2. Нажмите на значок профиля (справа вверху)
3. **Настройки** → **Голосовой ввод**
4. **Язык** → выберите **"Русский (Россия)"**
5. Нажмите **"Скачать офлайн-распознавание"** для работы без интернета

## Использование приложения

1. **Запустите приложение**
2. Нажмите кнопку **"Начать запись"**
3. Разрешите доступ к микрофону (если появится запрос)
4. Говорите на русском языке четко и громко
5. Распознанный текст появится в текстовом поле в реальном времени
6. Нажмите **"Остановить запись"**, когда закончите говорить

### Особенности непрерывного распознавания

Приложение настроено на **непрерывное распознавание**:
- Запись продолжается до нажатия кнопки "Остановить запись"
- Текст отображается в реальном времени по мере распознавания
- Длительность тишины до автоматической остановки: **2 секунды**
- Минимальная длительность речи: **15 секунд**
- Рекомендуется делать небольшие паузы между фразами для лучшего распознавания

## Возможные проблемы и решения

### "Речь не распознана"
- **Причина**: Русский язык не установлен в системе
- **Решение**: Следуйте инструкциям выше по установке русского языка

### Распознаётся английский вместо русского
- **Причина**: Настройки языка распознавания сбросились
- **Решение**: Проверьте, что в настройках выбран именно русский язык

### Плохое качество распознавания
- **Причины**:
  - Фоновый шум
  - Слишком тихая речь
  - Слишком быстрое произношение
- **Решения**:
  - Говорите громче и четче
  - Используйте приложение в тихом месте
  - Делайте паузы между фразами

## Технические детали

### Настройки распознавания
Приложение использует следующие параметры для распознавания:
- **Язык**: `ru-RU` (русский, Россия)
- **Режим**: Свободная форма (LanguageModelFreeForm)
- **Частичные результаты**: Включено (показывает текст в процессе говорения)
- **Количество результатов**: 1 (лучший вариант)
- **Таймаут тишины**: 2000 мс (2 секунды тишины до остановки)
- **Минимальная длительность**: 15000 мс (15 секунд минимальной записи)
- **Принудительный язык**: Три параметра для гарантии русского языка

### Управление записью
- **Кнопка "Начать запись"**: Запускает непрерывное распознавание
- **Кнопка "Остановить запись"**: Немедленно останавливает распознавание без ошибок
- **Автоматическая остановка**: Через 2 секунды тишины
- **Игнорирование ошибок**: При намеренной остановке ошибки не отображаются

### Валидация текста
Приложение автоматически проверяет распознанный текст:
- Проверяет наличие кириллицы
- Фильтрует результаты, если распознан не русский язык
- Очищает текст от лишних пробелов

## Разработка

### Структура проекта
- `Services/ISpeechRecognitionService.cs` - интерфейс службы распознавания
- `Platforms/Android/SpeechRecognitionService.cs` - реализация для Android
- `Services/RussianTextValidator.cs` - валидация русского текста
- `MainPage.xaml` + `MainPage.xaml.cs` - пользовательский интерфейс

### Требования
- .NET 9.0
- Android 5.0 (API 21) или выше
- Разрешение `RECORD_AUDIO`

## Лицензия
MIT License
